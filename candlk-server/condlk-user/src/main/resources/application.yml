server:
  port: 9081
  servlet:
    session:
      cookie:
        path: /
spring:
  profiles:
    active: local
  application:
    name: user
  main:
    allow-circular-references: true
  ### redis连接配置
  redis:
    host: 127.0.0.1
    port: 6379
    password: 123456
    database: 0
  ### common-config.yml 所有服务的公共配置
  messages:
    use-code-as-default-message: true
  mvc:
    throw-exception-if-no-handler-found: true
  cloud:
    sentinel:
      enabled: false
    loadbalancer:
      ribbon:
        enabled: false # 禁用 ribbon，使用 loadbalancer
  session:
    store-type: redis
    timeout: 600
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:3306/x_cockpit_local?useUnicode=true&allowMultiQueries=true&rewriteBatchedStatements=true
    username: root
    password: 123456
    connection-timeout: 10000
    max-lifetime: 300000
    auto-commit: true
    data-source-properties:
      characterEncoding: UTF-8
      serverTimezone: GMT+8
      useSSL: false # 5.5.45+ / 5.6.26+ / 5.7.6+ 默认为true
      allowPublicKeyRetrieval: true
      useServerPrepStmts: true
      cachePrepStmts: true
      useLocalSessionState: true
      useUnbufferedInput: false
      # maintainTimeStats: false #为 false 减少系统时间调用
      elideSetAutoCommits: true
      cacheServerConfiguration: true
      # enableQueryTimeouts: false # 高性能负载环境下可以考虑为false
      # connectionAttributes: none # since 5.1.25(MySQL 5.6+) 可提高数据库连接创建/初始化速度
      prepStmtCacheSize: 250 # 默认 25
      prepStmtCacheSqlLimit: 1024 # 默认 256
mybatis-plus:
  type-handlers-package: com.candlk.context.dao
  mapper-locations: classpath:/mapper/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
    default-enum-type-handler: org.apache.ibatis.type.EnumOrdinalTypeHandler
    log-impl: org.apache.ibatis.logging.nologging.NoLoggingImpl  # TODO 清空 log-impl，等于不配置，默认就不会打印日志
  global-config:
    db-config:
      table-prefix: x_
      id-type: auto # 数据库 ID 自增
      logic-delete-field: state
      logic-delete-value: 0
      logic-not-delete-value: 3
  type-aliases-package: com.candlk.**.entity
  type-enums-package: com.candlk.**.model
webapp:
  context:
    encrypt:
      aes-key: eJeJylXMuqtUb11wNPG5krsEAQCdc0gN

# ES 引擎配置
es:
  url: https://127.0.0.1:9200
  username: elastic
  pwd: YqR6mL+USUyJnPYPKtG=
  fingerprint: 008d29b8ca1324053f3cc196ae88e9e2dc865463053f0880f9c5cf708588f818

# 暴露健康检查访问入口
management:
  endpoints:
    web:
      exposure:
        include: "*"
  metrics:
    tags:
      application: ${spring.application.name}

warn:
  service:
    url: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=ffdc8cb0-5bcd-4ae1-a1a6-6acbe654e3cb
service:
  proxy:
    host: 127.0.0.1
    port: 10808
  cron:
    PingJob: "0/55 * * * * ?"
